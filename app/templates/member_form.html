{% extends "base.html" %}

{% block content %}
<div class="auth-wrapper" style="min-height: auto; padding: 0; background: none; margin: 0;">
    <div class="auth-card" style="max-width: 800px; margin: 0 auto; text-align: left;">
        <h2 style="margin-top: 0; margin-bottom: 2rem; color: var(--primary-dark);">
            {{ 'Editar Miembro' if member else 'Registrar Nuevo Miembro' }}
        </h2>

        <form method="POST">
            <div class="grid" style="grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                <div class="form-group">
                    <label for="first_name">Nombre(s) *</label>
                    <input type="text" id="first_name" name="first_name"
                        value="{{ member.first_name if member else '' }}" required>
                </div>

                <div class="form-group">
                    <label for="last_name">Apellidos *</label>
                    <input type="text" id="last_name" name="last_name" value="{{ member.last_name if member else '' }}"
                        required>
                </div>
            </div>

            <div class="grid" style="grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 1.5rem;">
                <div class="form-group">
                    <label for="phone">Teléfono</label>
                    <input type="tel" id="phone" name="phone" value="{{ member.phone if member else '' }}">
                </div>

                <div class="form-group">
                    <label for="email">Correo Electrónico</label>
                    <input type="email" id="email" name="email" value="{{ member.email if member else '' }}">
                </div>
            </div>

            <div class="form-group">
                <label for="birthdate">Fecha de Nacimiento</label>
                <input type="date" id="birthdate" name="birthdate"
                    value="{{ member.birthdate.strftime('%Y-%m-%d') if member and member.birthdate else '' }}">
            </div>

            <div class="form-group">
                <label for="address">Dirección</label>
                <textarea id="address" name="address" rows="3">{{ member.address if member else '' }}</textarea>
            </div>

            {% if member %}
            <div class="form-group">
                <label for="status">Estado</label>
                <select id="status" name="status"
                    style="width: 100%; padding: 0.875rem; border: 1px solid #d1d5db; border-radius: var(--radius); background-color: #f9fafb;">
                    <option value="Activo" {{ 'selected' if member.status=='Activo' else '' }}>Activo</option>
                    <option value="Inactivo" {{ 'selected' if member.status=='Inactivo' else '' }}>Inactivo</option>
                </select>
            </div>
            {% endif %}

            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                <button type="submit" class="btn">Guardar</button>
                <a href="{{ url_for('main.members') }}" class="btn btn-secondary"
                    style="margin-top: 0; width: auto;">Cancelar</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}